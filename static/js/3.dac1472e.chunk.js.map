{"version":3,"sources":["components/Profile/Profile.module.scss","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/Posts/Post/Post.module.scss","components/Profile/Posts/Posts.module.scss","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Posts/Post/Post.tsx","components/Profile/Posts/Posts.tsx","components/Profile/Posts/PostsContainer.tsx","components/Profile/Profile.tsx"],"names":["module","exports","ProfileStatusWithHooks","props","React","useState","status","setStatus","editMode","setEditMode","useEffect","onDoubleClick","profileStatus","userId","autoFocus","onBlur","updateStatusProfile","onKeyPress","e","key","currentTarget","value","onChange","type","ProfileInfo","className","style","profileInfo","profileInfo__wrapper","profileInfo__avatar","src","profile","photos","small","alt","profileInfo__des","profileInfo__menu","to","profileInfo__menu_item","profileInfo__title","fullName","profileInfo__info","Post","message","likesCount","date","Date","toJSON","slice","toTimeString","post__item","post__header","post__avatar","post__name","post__comments","AddNewPost","reduxForm","form","onSubmit","handleSubmit","Field","component","TextArea","name","validate","required","PostsContainer","connect","state","posts","profilePage","addPost","setUserProfile","modal","setModal","post","map","elem","i","id","posts__wrapper","modal__open","onClick","text","newPostMessage","Profile"],"mappings":"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","file":"static/js/3.dac1472e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1hWgy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo__wrapper\":\"ProfileInfo_profileInfo__wrapper__jcKgs\",\"profileInfo__avatar\":\"ProfileInfo_profileInfo__avatar__21g6G\",\"profileInfo__des\":\"ProfileInfo_profileInfo__des__36exJ\",\"profileInfo__title\":\"ProfileInfo_profileInfo__title__2n4Cs\",\"profileInfo__info\":\"ProfileInfo_profileInfo__info__NrYoI\",\"profileInfo__menu\":\"ProfileInfo_profileInfo__menu__1EWKT\",\"profileInfo__menu_item\":\"ProfileInfo_profileInfo__menu_item__3lAYB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__item\":\"Post_post__item__1Eyxw\",\"post__header\":\"Post_post__header__1Rq59\",\"post__name\":\"Post_post__name__2Gzmj\",\"post__avatar\":\"Post_post__avatar__2i_HP\",\"post__comments\":\"Post_post__comments__sSWSn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__wrapper\":\"Posts_posts__wrapper__3Cgg3\",\"modal__open\":\"Posts_modal__open__2zXWC\",\"modal\":\"Posts_modal__2bgUx\"};","import React, {ChangeEvent, KeyboardEvent, useEffect} from 'react'\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n    const [status, setStatus] = React.useState(props.status)\r\n    const [editMode, setEditMode] = React.useState(false)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]) // call useEffect when props.status changed\r\n\r\n    const activateEditMode = () => {\r\n        if (props.profileStatus?.userId === 13139) {\r\n            setEditMode(true)\r\n        }\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatusProfile(status)\r\n    }\r\n\r\n    const changeStatus = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    const changeStatusKey = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            setEditMode(false)\r\n            setStatus(e.currentTarget.value)\r\n            props.updateStatusProfile(status)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n            <div onDoubleClick={activateEditMode}><span>{status || 'No status'}</span></div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true}\r\n                       onBlur={deactivateEditMode}\r\n                       onKeyPress={changeStatusKey}\r\n                       onChange={changeStatus}\r\n                       type=\"text\"\r\n                       value={status}/>\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n\r\n// types\r\ntype PropsType = {\r\n    updateStatusProfile: (status: string) => void\r\n    status: string\r\n    profileStatus: profileUserType | null | undefined\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport style from \"./ProfileInfo.module.scss\";\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\ntype PropsType = {\r\n    profile: profileUserType | null | undefined\r\n    updateStatusProfile: (status: string) => void\r\n    status: string\r\n}\r\n\r\nlet icon = \"https://image.flaticon.com/icons/png/512/147/147144.png\"\r\n\r\nexport const ProfileInfo = (props: PropsType) => {\r\n    return (\r\n        <div className={style.profileInfo}>\r\n            <div className={style.profileInfo__wrapper}>\r\n                <div>\r\n                    <img className={style.profileInfo__avatar}\r\n                        src={props.profile?.photos.small ? props.profile?.photos.small : icon}\r\n                         alt=\"\"/>\r\n                </div>\r\n            </div>\r\n            <div className={style.profileInfo__des}>\r\n                <ul className={style.profileInfo__menu}>\r\n                    <Link to='Test/About' className={style.profileInfo__menu_item}>About</Link>\r\n                    <Link to='Test/Friends' className={style.profileInfo__menu_item}>Friends</Link>\r\n                    <h6 className={style.profileInfo__title}>{props.profile?.fullName}</h6>\r\n                    <Link to='/Settings' className={style.profileInfo__menu_item}>Settings</Link>\r\n                    <Link to='Test/Photos' className={style.profileInfo__menu_item}>Photos</Link>\r\n                </ul>\r\n                <div className={style.profileInfo__info}>San Francisco, CA</div>\r\n                <ProfileStatusWithHooks updateStatusProfile={props.updateStatusProfile}\r\n                              status={props.status}\r\n                             profileStatus={props.profile} />\r\n                {/*<ProfileStatus updateStatusProfile={props.updateStatusProfile}*/}\r\n                {/*               status={props.status}*/}\r\n                {/*               profileStatus={props.profile}*/}\r\n                {/*/>*/}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from './Post.module.scss'\r\n\r\n\r\nexport const Post = ({message, likesCount}: postsType) => {\r\n\r\n    let date = new Date().toJSON().slice(0, 10);\r\n    let time = new Date().toTimeString().slice(0, 8);\r\n    // let dateTime = `${date} ${time}`;\r\n\r\n    return (\r\n        <div className={style.post__item}>\r\n            <div className={style.post__header}>\r\n                <img className={style.post__avatar}\r\n                     src=\"https://image.flaticon.com/icons/png/512/147/147144.png\"\r\n                     alt=\"\"/>\r\n                <div>\r\n                    <span className={style.post__name}>\r\n                        James Luis\r\n                     </span>\r\n                    <time>{date}</time>\r\n                </div>\r\n            </div>\r\n            <article>\r\n                {message}\r\n            </article>\r\n            <div className={style.post__comments}>\r\n                <span>Likes<b>{likesCount}</b></span>\r\n            </div>\r\n        </div>)\r\n}","import React from \"react\";\r\nimport {Post} from \"./Post/Post\";\r\nimport style from './Posts.module.scss'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators\";\r\nimport {TextArea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n// создаем компонент form и типизируем стандартным InjectedFormProps который принимает дженерик\r\nconst AddNewPostForm: React.FC<InjectedFormProps<NewPostType>> = (props) => {\r\n    return (\r\n        //e.preventDefault\r\n        // get all form data and put them to object\r\n        // props.onSubmit(formData)\r\n        //по умолчанию, нам нужно передать стандартный обработчик handleSubmit, который нам попадает из ХОКа reduxForm\r\n        <form onSubmit={props.handleSubmit}>\r\n            {/* вместо тега input нужно заменять на Field component='textarea/input' name с уникальным именем н*/}\r\n            <Field component={TextArea}\r\n                   name={'newPostMessage'}\r\n                   validate={[required]}\r\n            />\r\n            <button>Add Post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\n// мы должны обернуть нашу форму ХОКом reduxForm,\r\nconst AddNewPost = reduxForm<NewPostType>({\r\n    // задаем уникальное имя\r\n    form: 'addNewPost'\r\n})(AddNewPostForm)\r\n\r\nexport const Posts = ({posts, addPost}: profilePageType & DispatchProfileType) => {\r\n    const [modal, setModal] = React.useState(false)\r\n\r\n    const onSubmit = (text: NewPostType) => {\r\n        addPost(text.newPostMessage)\r\n        setModal(!modal)\r\n    }\r\n\r\n    const onModal = () => setModal(!modal)\r\n\r\n    let post = posts.map((elem, i) => <Post message={elem.message} likesCount={elem.likesCount} id={elem.id} key={i}/>)\r\n    return (\r\n        <div className={style.posts__wrapper}>\r\n            <span className={style.modal__open} onClick={onModal}></span>\r\n            {modal &&\r\n            <div className={style.modal}>\r\n                <AddNewPost onSubmit={onSubmit}/>{/* Передаем в форму callback который под капотом\r\n                будет вызван как handleSubmit и нам вернется объект, с данными из формы*/}\r\n            </div>\r\n            }\r\n            <div className=\"post\">\r\n                {post}\r\n            </div>\r\n        </div>)\r\n}\r\n\r\n// types\r\ntype NewPostType = {\r\n    newPostMessage: string\r\n}\r\n\r\n","import {Posts} from \"./Posts\"\r\nimport {addPost, setUserProfile} from \"../../../redux/actionsCreator/profileAC\";\r\nimport {AppStateType} from \"../../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype OwnPropsType = {}\r\n\r\n\r\n// функция mapStateToProps которая принимает весь стейт целиком и возвращает только те данные,\r\n// которые нам нужны и которые мы описываем в ней\r\nconst mapStateToProps = (state: AppStateType): profilePageType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        status: state.profilePage.status\r\n    }\r\n}\r\n// функция mapDispatchToProps служит для того, чтобы передавать дочерней, презентационной компоненте,\r\n// callback-функции\r\n\r\n\r\n// для сокращения кода, мы можем не создавать callback-mapDispatchToProps, а просто передать объекты(ActionCreators) вторым параметром в connect,\r\n// а connect уже сам создаст mapDispatchToProps вложит каждый ActionCreators в dispatch\r\n// если в объекте имя ключ: значение совпадает, то мы пишем просто ключ.\r\nconst PostsContainer = connect<profilePageType, DispatchProfileType, OwnPropsType, AppStateType>\r\n(mapStateToProps, {addPost,setUserProfile})\r\n(Posts)\r\n\r\nexport default PostsContainer","import React from \"react\";\r\nimport style from './Profile.module.scss'\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport PostsContainer from \"./Posts/PostsContainer\";\r\n\r\n\r\n\r\n const Profile = (props: PropsType) => {\r\n    return (\r\n        <div className={style.profile}>\r\n            <ProfileInfo profile={props.profile}\r\n                         updateStatusProfile={props.updateStatusProfile}\r\n                         status={props.status}\r\n            />\r\n            <PostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Profile\r\n// types\r\ntype PropsType = {\r\n    profile: profileUserType | null | undefined\r\n    updateStatusProfile: (status: string) => void\r\n    status: string\r\n}\r\n"],"sourceRoot":""}